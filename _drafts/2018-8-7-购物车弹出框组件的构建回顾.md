---
layout: post
title: 购物车弹出框组件的构建回顾
---

基本目的：梳理知识点，举一反三的基础。

----

### ES6的对象展开运算符以及Vuex的mapState函数

目的：Vuex的state语法糖，简化state的使用，不用繁琐的调用this.$store.state.xx，直接以xx的方式用就可以。

相关链接：

* [vuex: mapState](https://vuex.vuejs.org/zh/guide/state.html#mapstate-%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0)
* [babel: object-rest-spread](https://babeljs.io/docs/en/babel-plugin-transform-object-rest-spread/)

基本思路：

```
import { mapState } from 'vuex';

export default {
    computed: {
      // 使用对象展开运算符将此对象(vuex的state参数)混入到外部对象(data参数)中
      ...mapState(['s1', 's2'])
    }
}
```

### 异步调用的回调方法和async方法，axios的再包装

回调方法：
```
getCartInfo() {
    this.cartIsLoading = true;
    axios
      .get(url, { params, cache: true })
      .then(({ data }) => {
        this.productObj = data;
      })
      .finally(() => {
        this.cartIsLoading = false;
      });
}
```

async方法：
```

```



### 去除接口的重复请求


### CSS transition

---
